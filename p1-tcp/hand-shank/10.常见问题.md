# 一 CPU占用高
## 1.1 现象
 如果在三次握手阶段，发现CPU的占用率异常升高，那么最可能的原因是：
 系统的可用端口不足，且设置的可用端口范围比较大：
 客户端在选择端口的时候，会循环从可用端口的范围中选择一个没有被使用的端口作为自己的源端口。
 如果可以用的端口不足，在加上选择端口的过程中使用的是自旋锁来保证并发安全。
 那么，整个循环的遍历过程，势必会造成CPU占用率增高。
## 1.2 解决方法
  方法1：客户端使用bind函数，指定需要使用的端口号，而不是随机端口号
  方法2：减小可用端口的范围